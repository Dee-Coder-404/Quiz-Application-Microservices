package com.example.demooo.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.demooo.Exception.Exceptioninfo;
import com.example.demooo.Exception.TeacherNotFoundException;
import com.example.demooo.entity.Teacher;
import com.example.demooo.repository.TeacherRepo;

@RestController
@RequestMapping("/teacher")
public class TeacherController {
	
	private static final ResponseEntity<Exceptioninfo> throw = null;
	@Autowired
	private TeacherRepo trepo;
	  						   // Response Structure to handle 
//	@PostMapping("/save")
//	public ResponseStructure<Teacher> save(@RequestBody Teacher teacher){
//			
//		Teacher teach=trepo.save(teacher);
//		ResponseStructure<Teacher> resp=new ResponseStructure<>();
//		if(teach!=null) {
//			resp.setStatuscode(201);
//			resp.setMsg("Succussefully");
//			resp.setData(teach);
//			resp.setDatetime(LocalDateTime.now());
//			return resp;
//		}
//		else {
//			resp.setStatuscode(500);
//			resp.setMsg("UNSuccussefully");
//			resp.setData(null);
//			resp.setDatetime(LocalDateTime.now());
//			return resp;
//		}
//	}
	@PostMapping("/save")
	public ResponseEntity<Teacher> save(@RequestBody Teacher teacher){
		
		if(teacher.getTid()>100) {
			Teacher	t=trepo.save(teacher);
			return new ResponseEntity<Teacher>(teacher, HttpStatus.CREATED);
		}
		else {
			throw new TeacherNotFoundException("Invalid ID");
		}
	}
}
